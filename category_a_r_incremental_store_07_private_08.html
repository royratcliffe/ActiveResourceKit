<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ActiveResourceKit: ARIncrementalStore(Private) Category Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ActiveResourceKit
   &#160;<span id="projectnumber">v1.1&nbsp;(493.0)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="category_a_r_incremental_store_07_private_08-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ARIncrementalStore(Private) Category Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_a_r_incremental_store_09_private_8h_source.html">ARIncrementalStore+Private.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a82fc5542b3a369e23fe1f9536da93795"><td class="memItemLeft" align="right" valign="top">(NSManagedObjectID *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#a82fc5542b3a369e23fe1f9536da93795">objectIDForResource:withContext:</a></td></tr>
<tr class="memdesc:a82fc5542b3a369e23fe1f9536da93795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using a particular context, derives a managed-object identifier based on a resource's element name and its primary key.  <a href="#a82fc5542b3a369e23fe1f9536da93795"></a><br/></td></tr>
<tr class="separator:a82fc5542b3a369e23fe1f9536da93795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa2f58f1481e4bc80c60ad30b0be05d"><td class="memItemLeft" align="right" valign="top">(NSManagedObjectID *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#aafa2f58f1481e4bc80c60ad30b0be05d">objectIDForCachedResource:withContext:</a></td></tr>
<tr class="memdesc:aafa2f58f1481e4bc80c60ad30b0be05d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Answers the object identifier for a given resource after caching the resource against its object identifier.  <a href="#aafa2f58f1481e4bc80c60ad30b0be05d"></a><br/></td></tr>
<tr class="separator:aafa2f58f1481e4bc80c60ad30b0be05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7889bf07732d921af8d679a0ed7fd1"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_a_r_resource.html">ARResource</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#a0a7889bf07732d921af8d679a0ed7fd1">cachedResourceForObjectID:error:</a></td></tr>
<tr class="memdesc:a0a7889bf07732d921af8d679a0ed7fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an object identifier to an active resource.  <a href="#a0a7889bf07732d921af8d679a0ed7fd1"></a><br/></td></tr>
<tr class="separator:a0a7889bf07732d921af8d679a0ed7fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa661eb9274e7e2a8978758a1d303abe3"><td class="memItemLeft" align="right" valign="top">(uint64_t)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#aa661eb9274e7e2a8978758a1d303abe3">versionForResource:</a></td></tr>
<tr class="memdesc:aa661eb9274e7e2a8978758a1d303abe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Answers a 64-bit version number derived from the given <em>resource</em>.  <a href="#aa661eb9274e7e2a8978758a1d303abe3"></a><br/></td></tr>
<tr class="separator:aa661eb9274e7e2a8978758a1d303abe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a66295d3b811fc6fcf29b30efed4187"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#a6a66295d3b811fc6fcf29b30efed4187">refreshObject:</a></td></tr>
<tr class="memdesc:a6a66295d3b811fc6fcf29b30efed4187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes an object in the incremental store cache.  <a href="#a6a66295d3b811fc6fcf29b30efed4187"></a><br/></td></tr>
<tr class="separator:a6a66295d3b811fc6fcf29b30efed4187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b527e8546cd233ebba18be0951f21f"><td class="memItemLeft" align="right" valign="top">(NSDictionary *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_a_r_incremental_store_07_private_08.html#ab6b527e8546cd233ebba18be0951f21f">foreignKeysForObject:resource:</a></td></tr>
<tr class="memdesc:ab6b527e8546cd233ebba18be0951f21f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves relationships.  <a href="#ab6b527e8546cd233ebba18be0951f21f"></a><br/></td></tr>
<tr class="separator:ab6b527e8546cd233ebba18be0951f21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8h_source.html#l00029">29</a> of file <a class="el" href="_a_r_incremental_store_09_private_8h_source.html">ARIncrementalStore+Private.h</a>.</p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a0a7889bf07732d921af8d679a0ed7fd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_a_r_resource.html">ARResource</a> *) cachedResourceForObjectID: </td>
          <td></td>
          <td class="paramtype">(NSManagedObjectID *)&#160;</td>
          <td class="paramname"><em>objectID</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an object identifier to an active resource. </p>
<p>The conversion occurs using the resource cache, if the resource currently exists in the cache (a cache hit). Otherwise the implementation first loads the cache with the resource using the given object identifier (a cache miss). Uncached resources become cached before the method returns. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#a0a7889bf07732d921af8d679a0ed7fd1">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00046">46</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<a class="anchor" id="ab6b527e8546cd233ebba18be0951f21f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary *) foreignKeysForObject: </td>
          <td></td>
          <td class="paramtype">(NSManagedObject *)&#160;</td>
          <td class="paramname"><em>object</em></td>
        </tr>
        <tr>
          <td class="paramkey">resource:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_r_resource.html">ARResource</a> *)&#160;</td>
          <td class="paramname"><em>resource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves relationships. </p>
<p>Picks out the to-one associations. Is there a foreign key with a matching to-one relationship? Looks for a matching foreign key within the resource for each to-one relationship. If the foreign key does not exist but the to-one relationship does, then resolves the relationship at the server side by assigning the foreign key to the relationship destination's object reference, its resource identifier. Collects such foreign key attributes first because there could be multiple. Merge and save them.</p>
<p>Ignores to-many associations. Rails will handle that. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#ab6b527e8546cd233ebba18be0951f21f">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00091">91</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<a class="anchor" id="aafa2f58f1481e4bc80c60ad30b0be05d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSManagedObjectID *) objectIDForCachedResource: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_r_resource.html">ARResource</a> *)&#160;</td>
          <td class="paramname"><em>resource</em></td>
        </tr>
        <tr>
          <td class="paramkey">withContext:</td>
          <td></td>
          <td class="paramtype">(NSManagedObjectContext *)&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Answers the object identifier for a given resource after caching the resource against its object identifier. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#aafa2f58f1481e4bc80c60ad30b0be05d">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00039">39</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<a class="anchor" id="a82fc5542b3a369e23fe1f9536da93795"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSManagedObjectID *) objectIDForResource: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_r_resource.html">ARResource</a> *)&#160;</td>
          <td class="paramname"><em>resource</em></td>
        </tr>
        <tr>
          <td class="paramkey">withContext:</td>
          <td></td>
          <td class="paramtype">(NSManagedObjectContext *)&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using a particular context, derives a managed-object identifier based on a resource's element name and its primary key. </p>
<p>Derives the entity name from the resource element name. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#a82fc5542b3a369e23fe1f9536da93795">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00032">32</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<a class="anchor" id="a6a66295d3b811fc6fcf29b30efed4187"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) refreshObject: </td>
          <td></td>
          <td class="paramtype">(NSManagedObject *)&#160;</td>
          <td class="paramname"><em>object</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refreshes an object in the incremental store cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>The object to refresh.</td></tr>
  </table>
  </dd>
</dl>
<p>The given <em>object</em> disappears from the resource cache and becomes a fault. Subsequent attempts to access the object will refetch its resource attributes. This happens when objects insert. Inserted objects become unrealised because the remote server typically validates and further updates the inserted resource, e.g. by setting its update-at date. It also occurs when you update an object, for the same reason. Object deletion also refreshes the cache; the deleted resource disappears from the cache and the object becomes a fault before disappearing from the managed-object context as all deleted objects do. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#a6a66295d3b811fc6fcf29b30efed4187">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00085">85</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<a class="anchor" id="aa661eb9274e7e2a8978758a1d303abe3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (uint64_t) versionForResource: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_r_resource.html">ARResource</a> *)&#160;</td>
          <td class="paramname"><em>resource</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Answers a 64-bit version number derived from the given <em>resource</em>. </p>
<p>Uses the updated-at date-time as the version number. Converts the update-at date to seconds since the reference date. This amounts to a big version number, but the version number allows for 64 bits of unsigned integer width.</p>
<p>Also makes an assumption about the updated-at dates: that they always exceed midnight 1st January 2001, the reference point. If they precede that point, then the reference-relative time interval becomes negative, the signed interval wraps the unsigned 64-bit version and version numbers start counting down. This is not what Core Data will expect.</p>
<p>The implementation multiplies the time interval by 1,000 in order to allow for rare sub-second updates, if the server-side includes date-time at sub-second resolutions. RFC 3339 date-time formats allow for sub-second accuracy. </p>

<p>Extends class <a class="el" href="interface_a_r_incremental_store.html#aa661eb9274e7e2a8978758a1d303abe3">ARIncrementalStore</a>.</p>

<p>Definition at line <a class="el" href="_a_r_incremental_store_09_private_8m_source.html#l00070">70</a> of file <a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a>.</p>

</div>
</div>
<hr/>The documentation for this category was generated from the following files:<ul>
<li>ActiveResourceKit/<a class="el" href="_a_r_incremental_store_09_private_8h_source.html">ARIncrementalStore+Private.h</a></li>
<li>ActiveResourceKit/<a class="el" href="_a_r_incremental_store_09_private_8m_source.html">ARIncrementalStore+Private.m</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
